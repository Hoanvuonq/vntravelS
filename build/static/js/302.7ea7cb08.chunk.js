"use strict";(self.webpackChunklearning_typescript=self.webpackChunklearning_typescript||[]).push([[302],{302:(e,s,n)=>{n.r(s),n.d(s,{default:()=>d});var a=n(40438),l=n(60783),t=n(69745),i=n(32042),c=n(90587),r=n(21438),o=n(55874);const d=e=>{let{user:s}=e;const{fetchAdminUserInfo:n}=(0,r.P)(),[d,x]=(0,i.useState)([]),[m,h]=(0,i.useState)(!0),[u,v]=(0,i.useState)(null),[j,w]=(0,i.useState)({journeyIndex:0,additionalPoints:0});(0,i.useEffect)((()=>{(async()=>{try{const e=await(0,l.uQ)(s._id);e.status&&x(e.data)}catch(e){console.error("L\u1ed7i khi l\u1ea5y nh\u1eadt k\xfd \u0111\u01a1n may m\u1eafn:",e)}finally{h(!1)}})()}),[s._id]);const p=(0,i.useMemo)((()=>d.map((e=>(0,o.jsx)("div",{className:"xl:rounded-[1vw] rounded-[3vw] p-[1vw] flex items-center justify-between shadow-custom-3 history-journey",children:(0,o.jsxs)("div",{className:"flex items-center justify-between w-full xl:gap-[1vw] gap-[6vw]",children:[(0,o.jsxs)("div",{className:"flex items-center xl:gap-[1vw] gap-[3vw]",children:[(0,o.jsx)("img",{src:t.z.Star,alt:"Star",className:"xl:w-[2.5vw] w-[10vw] hover-items"}),(0,o.jsx)("div",{className:"flex flex-col gap-[0.2vw]",children:u===e._id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"ID :"})," ",e._id.slice(-6)]}),(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"H\xe0nh Tr\xecnh S\u1ed1 :"})," ",(0,o.jsx)("input",{type:"number",value:j.journeyIndex,onChange:e=>w({...j,journeyIndex:Number(e.target.value)}),className:"text-infoBill text-gray-700"})]}),(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"S\u1ed1 Ti\u1ec1n C\u1ea7n B\xf9 :"}),(0,o.jsx)("input",{type:"number",value:j.additionalPoints,onChange:e=>w({...j,additionalPoints:Number(e.target.value)}),className:"text-infoBill text-gray-700"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"ID :"})," ",e._id.slice(-6)]}),(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"H\xe0nh Tr\xecnh S\u1ed1 :"})," ",e.journeyIndex]}),(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"S\u1ed1 Ti\u1ec1n C\u1ea7n B\xf9 :"})," ",e.additionalPoints]})]})})]}),(0,o.jsxs)("div",{className:"flex items-center xl:gap-[1vw] gap-[3vw]",children:[u===e._id?(0,o.jsx)(a.Tooltip,{content:"G\u1eedi \u0110\u01a1n May M\u1eafn",children:(0,o.jsx)("img",{src:t.z.Send,alt:"Send",className:"hover-items cursor-pointer xl:w-[1.5vw] w-[8vw]",onClick:()=>(async e=>{try{await(0,l.cL)(e,j.journeyIndex,j.additionalPoints),x((s=>s.map((s=>s._id===e?{...s,journeyIndex:j.journeyIndex,additionalPoints:j.additionalPoints}:s)))),v(null),(0,c.A)("success","G\u1eedi \u0111\u01a1n may m\u1eafn th\xe0nh c\xf4ng !")}catch(s){console.error("Error when editing lucky order:",s),(0,c.A)("error","G\u1eedi \u0111\u01a1n may m\u1eafn th\u1ea5t b\u1ea1i !")}})(e._id)})}):(0,o.jsx)(a.Tooltip,{content:"Ch\u1ec9nh S\u1eeda \u0110\u01a1n May M\u1eafn",children:(0,o.jsx)("img",{src:t.z.Edit,alt:"Edit",className:"hover-items cursor-pointer xl:w-[1.5vw] w-[8vw]",onClick:()=>(e=>{v(e._id),w({journeyIndex:e.journeyIndex,additionalPoints:e.additionalPoints})})(e)})}),(0,o.jsx)(a.Tooltip,{content:"X\xf3a \u0110\u01a1n May M\u1eafn",children:(0,o.jsx)("img",{src:t.z.deleteIntervention,alt:"Delete",className:"hover-items cursor-pointer xl:w-[1.5vw] w-[8vw]",onClick:()=>(async e=>{try{const s=await(0,l.d9)(e);console.log("Intervention deleted successfully:",s),x((s=>s.filter((s=>s._id!==e)))),(0,c.A)("success","X\xf3a \u0111\u01a1n may m\u1eafn th\xe0nh c\xf4ng !")}catch(s){console.error("Failed to delete intervention:",s),(0,c.A)("error","X\xf3a \u0111\u01a1n may m\u1eafn th\u1ea5t b\u1ea1i !")}})(e._id)})})]})]})},e._id)))),[d,u,j]),y=d.length>0;return(0,o.jsx)("div",{className:"flex flex-col gap-[1vw] p-[0.2vw]",children:m?(0,o.jsx)("div",{className:"w-full all-center ",children:(0,o.jsxs)("div",{className:"loader-ellipsis mt-[1vw]",children:[(0,o.jsx)("div",{className:"!bg-black"}),(0,o.jsx)("div",{className:"!bg-black"}),(0,o.jsx)("div",{className:"!bg-black"}),(0,o.jsx)("div",{className:"!bg-black"})]})}):y?p:(0,o.jsxs)("div",{className:"w-full all-center xl:h-auto h-[60vw] flex-col xl:gap-[1vw] gap-[3vw] notes",children:[(0,o.jsx)("img",{src:t.z.logoTravelS,alt:"No Data",className:"xl:w-[10vw] w-[50vw] object-cover"}),(0,o.jsx)("p",{className:"text-titleNote",children:"User n\xe0y ch\u01b0a c\xf3 nh\u1eadt k\xfd \u0111\u01a1n may m\u1eafn !"})]})})}}}]);
//# sourceMappingURL=302.7ea7cb08.chunk.js.map