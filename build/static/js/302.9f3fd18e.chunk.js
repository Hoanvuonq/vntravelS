"use strict";(self.webpackChunklearning_typescript=self.webpackChunklearning_typescript||[]).push([[302],{302:(e,s,n)=>{n.r(s),n.d(s,{default:()=>d});var l=n(40438),a=n(60783),t=n(69745),i=n(32042),r=n(90587),c=n(21438),o=n(55874);const d=e=>{let{user:s}=e;const{fetchAdminUserInfo:n}=(0,c.P)(),[d,x]=(0,i.useState)([]),[m,u]=(0,i.useState)(!0),[v,h]=(0,i.useState)(null),[w,j]=(0,i.useState)({journeyIndex:0,additionalPoints:0});(0,i.useEffect)((()=>{(async()=>{try{const e=await(0,a.uQ)(s._id);e.status&&x(e.data)}catch(e){console.error("L\u1ed7i khi l\u1ea5y nh\u1eadt k\xfd \u0111\u01a1n may m\u1eafn:",e)}finally{u(!1)}})()}),[s._id]);const g=(0,i.useMemo)((()=>d.map((e=>(0,o.jsx)("div",{className:"xl:rounded-[1vw] rounded-[3vw] p-[1vw] flex items-center justify-between shadow-custom-3 history-journey",children:(0,o.jsxs)("div",{className:"flex items-center justify-between w-full xl:gap-[1vw] gap-[6vw]",children:[(0,o.jsxs)("div",{className:"flex items-center xl:gap-[1vw] gap-[3vw]",children:[(0,o.jsx)("img",{src:t.z.Star,alt:"Star",className:"xl:w-[2.5vw] w-[10vw] hover-items"}),(0,o.jsx)("div",{className:"flex flex-col gap-[0.2vw]",children:v===e._id?(0,o.jsxs)("div",{className:"flex flex-col gap-[0.2vw]",children:[(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"ID :"})," ",e._id.slice(-6)]}),(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"H\xe0nh Tr\xecnh S\u1ed1 : "}),(0,o.jsx)("input",{type:"number",value:w.journeyIndex,onChange:e=>j({...w,journeyIndex:Number(e.target.value)}),className:"indent-[0.4vw] tracking-[0.2vw] border border-gray-300 text-gray-900 xl:text-[0.8vw] text-[3.5vw] p-[0.2vw] focus:ring-blue-500 focus:border-blue-500 outline-1 outline-gray-300"})]}),(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"S\u1ed1 Ti\u1ec1n C\u1ea7n B\xf9 : "}),(0,o.jsx)("input",{type:"number",value:w.additionalPoints,onChange:e=>j({...w,additionalPoints:Number(e.target.value)}),className:"indent-[0.4vw] tracking-[0.2vw] border border-gray-300 text-gray-900 xl:text-[0.8vw] text-[3.5vw] p-[0.2vw] focus:ring-blue-500 focus:border-blue-500 outline-1 outline-gray-300"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"ID :"})," ",e._id.slice(-6)]}),(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"H\xe0nh Tr\xecnh S\u1ed1 :"})," ",e.journeyIndex]}),(0,o.jsxs)("p",{className:"text-infoBill text-gray-700",children:[(0,o.jsx)("span",{className:"font-bold",children:"S\u1ed1 Ti\u1ec1n C\u1ea7n B\xf9 :"})," ",e.additionalPoints]})]})})]}),(0,o.jsxs)("div",{className:"flex items-center xl:flex-row flex-col xl:gap-[1vw] gap-[3vw]",children:[v===e._id?(0,o.jsx)(l.Tooltip,{content:"G\u1eedi \u0110\u01a1n May M\u1eafn",children:(0,o.jsx)("img",{src:t.z.Send,alt:"Send",className:"hover-items cursor-pointer xl:w-[1.5vw] w-[8vw]",onClick:()=>(async e=>{try{await(0,a.cL)(e,w.journeyIndex,w.additionalPoints),x((s=>s.map((s=>s._id===e?{...s,journeyIndex:w.journeyIndex,additionalPoints:w.additionalPoints}:s)))),h(null),(0,r.A)("success","G\u1eedi \u0111\u01a1n may m\u1eafn th\xe0nh c\xf4ng !")}catch(s){console.error("Error when editing lucky order:",s),(0,r.A)("error","G\u1eedi \u0111\u01a1n may m\u1eafn th\u1ea5t b\u1ea1i !")}})(e._id)})}):(0,o.jsx)(l.Tooltip,{content:"Ch\u1ec9nh S\u1eeda \u0110\u01a1n May M\u1eafn",children:(0,o.jsx)("img",{src:t.z.Edit,alt:"Edit",className:"hover-items cursor-pointer xl:w-[1.5vw] w-[8vw]",onClick:()=>(e=>{h(e._id),j({journeyIndex:e.journeyIndex,additionalPoints:e.additionalPoints})})(e)})}),(0,o.jsx)(l.Tooltip,{content:"X\xf3a \u0110\u01a1n May M\u1eafn",children:(0,o.jsx)("img",{src:t.z.deleteIntervention,alt:"Delete",className:"hover-items cursor-pointer xl:w-[1.5vw] w-[8vw]",onClick:()=>(async e=>{try{const s=await(0,a.d9)(e);console.log("Intervention deleted successfully:",s),x((s=>s.filter((s=>s._id!==e)))),(0,r.A)("success","X\xf3a \u0111\u01a1n may m\u1eafn th\xe0nh c\xf4ng !")}catch(s){console.error("Failed to delete intervention:",s),(0,r.A)("error","X\xf3a \u0111\u01a1n may m\u1eafn th\u1ea5t b\u1ea1i !")}})(e._id)})})]})]})},e._id)))),[d,v,w]),y=d.length>0;return(0,o.jsx)("div",{className:"flex flex-col gap-[1vw] p-[0.2vw]",children:m?(0,o.jsx)("div",{className:"w-full all-center ",children:(0,o.jsxs)("div",{className:"loader-ellipsis mt-[1vw]",children:[(0,o.jsx)("div",{className:"!bg-black"}),(0,o.jsx)("div",{className:"!bg-black"}),(0,o.jsx)("div",{className:"!bg-black"}),(0,o.jsx)("div",{className:"!bg-black"})]})}):y?g:(0,o.jsxs)("div",{className:"w-full all-center xl:h-auto h-[60vw] flex-col xl:gap-[1vw] gap-[3vw] notes",children:[(0,o.jsx)("img",{src:t.z.logoTravelS,alt:"No Data",className:"xl:w-[10vw] w-[50vw] object-cover"}),(0,o.jsx)("p",{className:"text-titleNote",children:"User n\xe0y ch\u01b0a c\xf3 nh\u1eadt k\xfd \u0111\u01a1n may m\u1eafn !"})]})})}}}]);
//# sourceMappingURL=302.9f3fd18e.chunk.js.map